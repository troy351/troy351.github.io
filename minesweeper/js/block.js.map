{"version":3,"sources":["src/block.js"],"names":[],"mappings":"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","file":"block.js","sourcesContent":["export default class Block {\n    /**\n     * construtor of block class\n     * @param type the type of block on display enum['blank','cover','flag','question','number']\n     * @param number the number of block(if blank, set 0; if mine, set -1)\n     * @param x row number\n     * @param y column number\n     */\n    constructor(type, number, y, x) {\n        this.type = type;\n        this.number = number;\n        this.x = x * Block.size;\n        this.y = y * Block.size;\n    }\n\n    draw(isActive) {\n        isActive = isActive || false;\n\n        switch (this.type) {\n            case 'blank':\n                this._drawBlank();\n                break;\n            case 'cover':\n                if (isActive) {\n                    this._drawActive();\n                } else {\n                    this._drawCover();\n                }\n                break;\n            case 'flag':\n                this._drawFlag();\n                break;\n            case 'question':\n                this._drawQuestion();\n                break;\n            case 'number':\n                this._drawNumber();\n                break;\n            default:\n                console.error('block draw error');\n        }\n    }\n\n    drawMine() {\n        this._drawMine();\n    }\n\n    drawWrong() {\n        this._drawMine();\n        Block.ctx.drawImage(Block.pics.redcross, this.x, this.y, Block.size, Block.size);\n    }\n\n    drawBoom() {\n        Block.ctx.fillStyle = '#808080';\n        Block.ctx.fillRect(this.x, this.y, Block.size, Block.size);\n        Block.ctx.fillStyle = '#ff0000';\n        Block.ctx.fillRect(this.x + 2, this.y + 2, Block.size - 4, Block.size - 4);\n        Block.ctx.drawImage(Block.pics.mine, this.x, this.y, Block.size, Block.size);\n    }\n\n    _drawBlank() {\n        Block.ctx.fillStyle = '#808080';\n        Block.ctx.fillRect(this.x, this.y, Block.size, Block.size);\n        Block.ctx.fillStyle = '#c0c0c0';\n        Block.ctx.fillRect(this.x + 2, this.y + 2, Block.size - 4, Block.size - 4);\n    }\n\n    _drawCover() {\n        Block.ctx.drawImage(Block.pics.cover, this.x, this.y, Block.size, Block.size);\n    }\n\n    _drawMine() {\n        this._drawBlank();\n        Block.ctx.drawImage(Block.pics.mine, this.x, this.y, Block.size, Block.size);\n    }\n\n    _drawNumber() {\n        this._drawBlank();\n        Block.ctx.drawImage(Block.pics.number[this.number - 1], this.x, this.y, Block.size, Block.size);\n    }\n\n    _drawFlag() {\n        this._drawCover();\n        Block.ctx.drawImage(Block.pics.flag, this.x, this.y, Block.size, Block.size);\n    }\n\n    _drawQuestion() {\n        this._drawCover();\n        Block.ctx.drawImage(Block.pics.question, this.x, this.y, Block.size, Block.size);\n    }\n\n    _drawActive() {\n        this._drawBlank();\n    }\n\n}\n\nvar getImgElement = (data)=> {\n    const elem = document.createElement('img');\n    elem.src = data;\n    return elem;\n}\n// static value\nconst pics = {};\npics.cover = getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAgMAAADxkFD+AAAADFBMVEUAAADAwMCAgID///95JNgBAAAAAXRSTlMAQObYZgAAADBJREFUGNNjsP8PBVfhzL9ZDP+xM6+GgkHYqlEmZcyvWasgAIV5axU2ZhSCmQVnAgCELtzEEJni7QAAAABJRU5ErkJggg==');\npics.mine = getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAgMAAADxkFD+AAAACVBMVEUAAAAAAAD///+D3c/SAAAAAXRSTlMAQObYZgAAADtJREFUGNNjIBUwOpDBFGENDQ0QQWcyhgKBAx6maNTK0NAQUpmhUIDEBCsA0kAFpDEJOxLTb+QFFIkAAIcoKRTKBM2sAAAAAElFTkSuQmCC');\npics.flag = getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAgMAAADxkFD+AAAACVBMVEUAAAAAAAD/AAA9+90tAAAAAXRSTlMAQObYZgAAAC5JREFUGNNjoDrgWoGfqbUKC5NpFT4mpjbCtsGBCFnM0NAADCZjKBCEkMSkGQAAh9savIvXtfMAAAAASUVORK5CYII=');\npics.question = getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAACVJREFUCNdjIAX8P4BGsh/8gIdkYEQi2Q+gk3YMuEkEwK+SZAAAZh0Ued+H/kEAAAAASUVORK5CYII=');\npics.redcross = getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAD/AAAb/40iAAAAAXRSTlMAQObYZgAAAD5JREFUCNdjIAbwNzAwfkAhmR8wsB+Akgw1DHYMqKQ8ww84yfz8ABrJ8J8BD4lQiTAHQSJsgdiOTKK4EAcAAOI6JjXKKpCIAAAAAElFTkSuQmCC');\n\npics.number = [];\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAAAAP+IZVZCAAAAAXRSTlMAQObYZgAAACBJREFUCNdjIAXIY5D/ESQzBimPRDKQR0JN+IGTJBUAAIRAHAIBPIiBAAAAAElFTkSuQmCC'));\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAAAgQCH/xDFAAAAAXRSTlMAQObYZgAAADNJREFUCNdjIAHI//+HRv7//78BTjLYo5EMyCQ7UD0q+f8DnJQHCqCS/w9ASagtOEkSAQBw/DM6jbNS2QAAAABJRU5ErkJggg=='));\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAD/AAAb/40iAAAAAXRSTlMAQObYZgAAACZJREFUCNdjIAH8//8Pg/zfACWBwB4fCVSPi8SvF2ELgkS4gVQAALbSMcUBalaCAAAAAElFTkSuQmCC'));\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAAAAIKm0VvDAAAAAXRSTlMAQObYZgAAACJJREFUCNdjIAGw//yHh5Q/iI/8//9/A26SgRGohiySVAAAB70utGuWOfQAAAAASUVORK5CYII='));\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAACCAABH1nYhAAAAAXRSTlMAQObYZgAAACZJREFUCNdjIAH8//+/AQ8JVIGH/P8PRmLqBQJ7nCS6+n8oppEKAJT5OoUE+mkuAAAAAElFTkSuQmCC'));\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAAAgIEEW5IyAAAAAXRSTlMAQObYZgAAAChJREFUCNdjIAHI//+HRv5HJoEYD4mp/v//BjjJYI+TRKhEkAg3kAoAL7s4m4dq9kcAAAAASUVORK5CYII='));\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAAAAAAClZ7nPAAAAAXRSTlMAQObYZgAAACRJREFUCNdjIAH8//+/AScJBPb4SMZ/DHhI9g/4SPsDOElSAQD6+yP2rjzIZAAAAABJRU5ErkJggg=='));\npics.number.push(getImgElement('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoAQMAAAC2MCouAAAABlBMVEUAAACAgICSabkkAAAAAXRSTlMAQObYZgAAACdJREFUCNdjIAHI//+HRv7//78BTjLY4yERujBJ/HoRtiBIhF5SAQCCOzf2NZO6BwAAAABJRU5ErkJggg=='));\n\nBlock.ctx = null;\nBlock.size = 0;\nBlock.pics = pics;\n"]}